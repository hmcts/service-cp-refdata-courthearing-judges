name: CPP Context Verify & Validation

parameters:
  - name: GROUP_ID
    type: string
  - name: ARTIFACT_ID
    type: string
  - name: ARTIFACT_VERSION
    type: string

# No trigger as being called from other pipelines
trigger: none

resources:
  repositories:
    - repository: cppAzureDevOpsTemplates
      type: github
      name: hmcts/cpp-azure-devops-templates
      endpoint: 'GitHub-OAuth'
      ref: 'teams/vp/chakrab/vpbuildpipeline'

pool:
  name: "MDV-ADO-AGENT-AKS-01"
  demands:
    - identifier -equals ubuntu-j21

stages:
    - template: pipelines/gh-artifact-to-acr.yaml@cppAzureDevOpsTemplates
      parameters:
        GROUP_ID: ${{ parameters.GROUP_ID }}
        ARTIFACT_ID: ${{ parameters.ARTIFACT_ID }}
        ARTIFACT_VERSION: ${{ parameters.ARTIFACT_VERSION }}

